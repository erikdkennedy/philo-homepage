/*****************************************
				VARIABLES
*****************************************/

/* COLORS */
$blue: #279DD8;
$dark-blue: adjust-color($blue, $saturation: 6, $lightness: -5);
$black: #0A0A0A;

/* MEDIA QUERY SIZES */
$mobile: "max-width: 568px";
$mobile-lg: "min-width: 375px";
$tablet: "min-width: 569px";
$desktop: "min-width: 769px";
$desktop-lg: "min-width: 1200px";
$retina: "-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi";



/*****************************************
			  HTML STYLES
*****************************************/

@font-face {
	font-family: "OmnesMSC";
	font-weight: 300;
	src: url(../fonts/OmnesMSCLight.ttf);
}

@font-face {
	font-family: "OmnesMSC";
	font-weight: 400;
	src: url(../fonts/OmnesMSC-Regular.ttf);
}

@font-face {
	font-family: "OmnesMSC";
	font-weight: 500;
	src: url(../fonts/OmnesMSCMedium.ttf);
}

body {
	font-family: "OmnesMSC", sans-serif;
	color: white;
	background: $black;
    -webkit-font-smoothing: antialiased;

	@media ($desktop) {
		font-size: 17px;
	}

	@media ($desktop-lg) {
		font-size: 18px;
	}
}

a {
	color: white;
	text-decoration: none;

	&:hover {
		text-decoration: underline;
	}

	&:focus {
		outline: initial;
	}
}

h1, h2, h3 {
	font-weight: 400;
	letter-spacing: .03em;
}

input {
	padding-left: 5px;
	height: 38px;
	font-family: "OmnesMSC", sans-serif;
	font-size: 17px;
	border-radius: 2px;
	-webkit-appearance: none;
	border: none;
	box-shadow: inset 0 1px 3px rgba(black, .5);
}



/*****************************************
			  HELPER FUNCTIONS
*****************************************/

@mixin background-image-retina($file, $type, $width, $height) {
	background-image: url($file + '.' + $type);

	@media only screen and (-webkit-min-device-pixel-ratio: 2),
	only screen and (-moz-min-device-pixel-ratio: 2),
	only screen and (-o-min-device-pixel-ratio: 2/1),
	only screen and (min-device-pixel-ratio: 2),
	only screen and (min-resolution: 192dpi),
	only screen and (min-resolution: 2dppx) {
		& {
			background-image: url($file + '@2x.' + $type);
			-webkit-background-size: $width $height;
			-moz-background-size: $width $height;
			-o-background-size: $width $height;
			background-size: $width $height;
		}
	}
}



/*****************************************
				MODULES
*****************************************/

body.philo-no .if-philo-yes,
body:not(.philo-no) .if-philo-no,
body.cookie-yes .if-cookie-no,
body:not(.cookie-yes) .if-cookie-yes {display: none !important;}

.btn {
	display: inline-block;
	padding: 0 22px;
	height: 44px;
	line-height: 46px;
	font-size: 15px;
	font-weight: 500;
	letter-spacing: .8px;
	text-transform: uppercase;
	text-decoration: none;
	text-align: center;
	border-radius: 5px;
	background-color: $blue;
	box-shadow: 0 1px 3px rgba(black, .5);
	transition: background-color .1s ease;

	&:hover {
		background-color: $dark-blue;
		text-decoration: none;
	}

	&:focus {
		outline: none;
	}
}

	.btn--watch {
		@include background-image-retina("../img/icons/play", png, 24, 24);

		position: relative;
		padding-left: 45px;
		background-image: url(../img/icons/play.png);
		background-repeat: no-repeat;
		background-position: 12px 10px;
		background-size: 24px 24px;
	}

	.btn--outline {
		border-radius: 2px;
		line-height: 42px;
		background: none;
		border: 1px solid white;
		text-transform: none;

		&:hover {
			background-color: rgba(white, .07);
		}
	}

	.btn--disabled {
		$disabled: mix(white, $black, 10);

		@include background-image-retina("../img/icons/exclamation-point", png, 24, 24);

		color: rgba(white, .5);
		background-color: $disabled;
		background-image: url(../img/icons/exclamation-point.png);
		cursor: default;

		&:hover {
			background-color: $disabled;
		}
	}

.no-philo-links {
	margin-top: 0;
	font-size: 13px;
	color: $blue;
	font-weight: 500;
	text-align: center;
	text-shadow: 0 1px 9px $black;

	> a {
		color: $blue;
		transition: color .1s ease;

		&:hover {
			color: $dark-blue;
		}
	}
}

.app-stores {
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	margin-bottom: 10px;

	> a {
		margin: 2px;
		width: 142px;
		height: 48px;

		@media ($desktop) {
			opacity: .8;

			&:hover {
				opacity: 1;
			}
		}
	}
}

	body.philo-no:not(.cookie-yes) .app-stores {
		display: none;
	}

.dropdown {
	$dropdown: adjust-color($black, $lightness: 5);

	position: relative;

	> a + ul {
		display: none;
		position: absolute;
		top: 115%;
		left: 0;
		margin: 0;
		border-radius: 5px;
		list-style-type: none;
		padding: 5px 0;
		background-color: $dropdown;
		box-shadow: 0 0 0 1px white,
					0 2px 10px black;
		z-index: 2;

		&:before {
			content: "";
			position: absolute;
			top: -7.41px; /*6+sqrt(2) to account for equal border around triangle*/
			left: 7px;
			width: 0;
			height: 0;
			border-style: solid;
			border-width: 0 8px 7px 8px;
			border-color: transparent transparent white transparent;
		}

		&:after {
			content: "";
			position: absolute;
			top: -6px;
			left: 8px;
			width: 0;
			height: 0;
			border-style: solid;
			border-width: 0 7.5px 6px 7.5px;
			border-color: transparent transparent $dropdown transparent;
		}

		> li > a {
			display: block;
			padding: 0 12px;
			line-height: 40px;
			white-space: nowrap;
			transition: background-color .1s ease;

			&:hover {
				text-decoration: none;
				background-color: rgba(white, .1);
			}
		}

		@media ($tablet) {
			left: 0;
			right: auto;

			&:before {
				left: 7px;
				right: auto;
			}

			&:after {
				left: 8px;
				right: auto;
			}
		}
	}

	> a.active + ul {
		display: block;
	}
}

.page-down {
	display: block;
	margin: 0 auto;
	width: 48px;
	height: 48px;
}



/*****************************************
			  PAGE STYLES
*****************************************/

header {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	padding-top: 10px;

	.philo-logo {
		@include background-image-retina("../img/philo-logo", png, 86, 42);

		display: block;
		margin: 12px auto;
		width: 86px;
		height: 42px;
		background-image: url(../img/philo-logo.png);
		background-repeat: no-repeat;
		background-size: contain;

		@media ($desktop) {
			@include background-image-retina("../img/philo-logo", png, 106, 52);

			width: 106px;
			height: 52px;
		}
	}

	.nav-items {
		display: flex;
		justify-content: space-around;
		order: 1;
		margin: 0;
		padding: 0;
		width: 100%;
		list-style-type: none;
		background: rgba(white, .05);
		height: 44px;

		> li {
			height: 100%;

			> a {
				display: block;
				height: 100%;
				line-height: 46px;
			}

			&:last-child > ul {
				left: auto;
				right: 0px;

				&:before {
					left: auto;
					right: 7px;
				}

				&:after {
					left: auto;
					right: 8px;
				}
			}

		}

		img {
			margin-right: 8px;
		}
	}

	.watch-button {
		margin: 10px auto;
		text-align: center;

		.btn.btn--watch.btn--disabled {
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	}

	@media ($tablet) {
		.philo-logo {
			margin: 12px;
		}

		.watch-button {
			margin: 5px;
		}
	}

	@media ($desktop) {
		flex-wrap: nowrap;
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		padding: 30px 10px;
		height: 120px;
		z-index: 10;
		background-image: linear-gradient(to top,
			rgba($black, .00),
			rgba($black, .70) 20%,
			rgba($black, .90) 40%,
			rgba($black, .98));
		background-repeat: no-repeat;
		transition: all 1s ease;

		.philo-logo {
			margin: 0;
		}

		.nav-items {
			width: auto;
			order: 0;
			flex-grow: 1;
			background: transparent;
			justify-content: flex-start;

			> li {
				margin-left: 20px;

				&:last-child > ul {
					left: 0px;
					right: auto;

					&:before {
						left: 7px;
						right: auto;
					}

					&:after {
						left: 8px;
						right: auto;
					}
				}
			}
		}

		.watch-button {
			margin: 0;
			padding-top: 0;
		}
	}

	@media ($desktop-lg) {
		padding: 30px 50px 20px;

		.nav-items {
			margin-right: 20px;

			> li {
				margin-left: 40px;

				> a {
					line-height: 40px;
				}
			}
		}

		li.nav-item--dropdown {

			> a {
				padding: 0 12px;
				height: 40px;
				border-radius: 2px;
				border: 1px solid white;

				&:hover {
					text-decoration: none;
					background-color: rgba(white, .07);
				}

				&:after {
					margin-left: 12px;
				}
			}
		}
	}
}

.splash {
	position: relative;
	height: 380px;
	text-align: center;
	background: url(../img/football.png) center top;
	background-size: cover;
	background-repeat: no-repeat;

	> h1 {
		margin: 0;
		padding-top: 30px;
		text-align: center;
		font-size: 13vw;
		font-weight: 300;
		text-shadow: 0 2px 4px rgba(black, .5);
		line-height: 100%;
	}

	> h2 {
		margin-top: 3vh;
		font-size: 5vw;
		font-weight: 400;
		text-align: center;
		text-shadow: 0 2px 4px rgba(black, .5);
	}

	.splash__fade {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		width: 100%;
		height: 8vh;
		background-image: linear-gradient(to bottom, rgba($black, 0), rgba($black, 100));
	}

	.app-stores {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		z-index: 2;
	}

	.page-down {
		display: none;
	}

	@media ($tablet) {
		height: 0;
		padding-bottom: 61%;

		> h1 {
			padding-top: 10%;
			font-size: 9vw;
		}

		> h2 {
			font-size: 3.5vw;
		}

		.btn {
			padding: 0 28px;
			height: 54px;
			font-size: 17px;
			line-height: 55px;

			&.btn--watch {
				padding-left: 45px;
			}
		}

		.app-stores {
			position: relative;

			> a {
				margin: 2px 3px;
			}
		}
	}

	@media ($desktop) {
		> h1 {
			padding-top: 20%;
			font-size: 8vh;
		}

		> h2 {
			font-size: 3.1vh;
		}

		.page-down {
			display: block;
			position: absolute;
			bottom: 20px;
			left: 0;
			right: 0;
			opacity: .8;
			z-index: 2;
			transition: opacity .1s ease;

			&:hover {
				opacity: 1;
			}
		}
	}

	@media ($desktop-lg) {
		padding-bottom: 55%;

		> h1 {
			font-size: 10vh;
		}

		.app-stores {
			margin-top: 30px;
		}
	}
}

.feature {
	border-bottom: 1px solid rgba(white, .1);

	.feature__text {
		margin: 0 auto;
		padding: 10px;
		max-width: 500px;

		> h1 {
			margin-bottom: 8px;
			font-size: 28px;
			font-weight: 300;

			> img {
				position: relative;
				top: -2px;
				left: -2px;
				margin-right: 13px;
			}
		}

		> p {
			margin-top: 0;
		}
	}

	@media ($desktop) {
		.feature__wrapper {
			display: flex;
			justify-content: space-between;
			height: 500px;
		}

		.feature__text {
			margin: 0;
			align-self: center;

			> h1 {
				font-size: 32px;
			}
		}
	}

	@media ($desktop-lg) {
		.feature__wrapper {
			margin: 0 auto;
			padding: 0 100px;
			max-width: 1640px;
			height: 600px;
		}

		.feature__text {
			> h1 {
				font-size: 42px;
			}

			> p {
				font-size: 20px;
			}
		}
	}
}

.feature--live {
	.feature__img {
		padding: 30px 10px 0;

		img {
			display: block;
			margin: 0 auto;
			max-width: 100%;
		}
	}

	@media ($desktop) {

		.feature__img {
			align-self: center;
			order: 1;
			margin-right: 30px;
			min-width: 40%;
		}

		.feature__text {
			padding: 30px 10px;
		}
	}

	@media ($desktop) {
		.feature__img {
			margin: 0;
		}
	}
}

.feature--dvr {
	position: relative;
	height: 500px;
	overflow: hidden;

	.feature__img {
		position: relative;
		margin-left: -100px;
		z-index: 1;

	 	> img {
			position: absolute;

			&[data-speed=".1"] {width: (135px*.65); z-index: 6;}
			&[data-speed=".2"] {width: (135px*.5); z-index: 5;}
			&[data-speed=".3"] {width: (135px*.4); z-index: 4;}
			&[data-speed=".4"] {width: (135px*.2); z-index: 3;}

			&:nth-child(1)  {top: -65px;	left: 32%;}
			&:nth-child(2)  {top: 410px;	left: 65%;}
			&:nth-child(3)  {top: 240px;	left: -1%;}
			&:nth-child(4)  {top: 235px;	left: 29%;}
			&:nth-child(5)  {top: 88px;		left: 95%;}
			&:nth-child(6)  {top: 17px;		left: 5%;}
			&:nth-child(7)  {top: 487px;	left: 35%;}
			&:nth-child(8)  {top: 149px;	left: 60%;}
			&:nth-child(9)  {top: 273px;	left: 78%;}
			&:nth-child(10) {top: 54px;		left: 52%;}
			&:nth-child(11) {top: 93px;		left: 77%;}
		}

		@media ($desktop) {
			min-width: 50%;

			> img {
				&[data-speed=".1"] {width: (135px*1); z-index: 6;}
				&[data-speed=".2"] {width: (135px*.8); z-index: 5;}
				&[data-speed=".3"] {width: (135px*.6); z-index: 4;}
				&[data-speed=".4"] {width: (135px*.4); z-index: 3;}
			}
		}
	}

	.feature__text {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		background-color: rgba($black, .95);
		z-index: 2;

		@media ($desktop) {
			position: relative;
			align-self: center;
		}
	}
}

.feature--device {
	overflow: hidden;

	h1 {
		letter-spacing: 0;
	}

	.feature__img__single img {
		position: relative;
		left: 70%;
		margin: 40px 0 10px;
		transform: translateX(-50%);
	}

	.feature__img__multi {
		display: none;
	}

	@media ($mobile-lg) {
		.feature__img__single img {
			left: 50%;
		}
	}

	@media ($desktop) {

		.feature__img {
			order: 1;
			min-width: 50%;
			max-width: 50%;
			transform: scale(.8);
			align-self: center;
		}

			.feature__img__single {
				display: none;
			}

			.feature__img__multi {
				display: block;
				position: relative;
				height: 412px;

				img {
					position: absolute;
					transition: all .8s ease-out;

					&:nth-child(1) {
						top: 311px;
						left: 0;
						z-index: 2;
					}

					&:nth-child(2) {
						top: 145px;
						left: 125px;
					}

					&:nth-child(3) {
						top: 203px;
						left: 227px;
						z-index: 2;
					}

					&:nth-child(4) {
						left: 314px;
					}
				}
			}
	}

	@media ($desktop-lg) {
		.feature__img {
			transform: scale(1.0);
		}
	}
}

.bring-philo-to-you {
	padding-top: 1px; /*to contain margins*/

	> h1 {
		margin: 40px 0 35px;
		font-size: 25px;
		text-align: center;
	}

	.philo-for__x {
		margin-bottom: 20px;
		padding: 5px;

		> h2 {
			margin: 0 0 14px;
			font-size: 27px;
			font-weight: 300;
			text-align: center;

			> img {
				display: block;
				margin: 17px auto 4px;
			}
		}

		> img {
			width: 100%;
		}

		.btn {
			width: 100%;
		}
	}

	@media ($tablet) {
		> h1 {
			margin: 70px auto;
			font-size: 48px;
			font-weight: 300;
		}

		.philo-for {
			display: flex;
			margin: 0 auto;
			max-width: 1540px;

			.philo-for__x {
				flex-basis: 50%;
				margin: 0 5px;
			}
		}
	}

	@media ($desktop) {
		> h1 {
			margin: 80px auto 40px;
			font-size: 58px;
		}

		.philo-for .philo-for__x {
			margin: 0 20px;
			padding: 0 3vw;
			text-align: center;

			> h2 {
				margin: 25px 0 15px;
				font-size: 32px;
				text-align: left;

				> img {
					display: inline-block;
					margin: 0 15px 0 0;
				}
			}

			> p {
				text-align: left;
			}

			.btn {
				margin: 0 auto 70px;
				width: auto;
				height: 50px;
				line-height: 52px;
				font-size: 18px;
			}
		}
	}

	@media ($desktop-lg) {
		.philo-for .philo-for__x > h2 {
			font-size: 42px;
		}
	}
}

footer {
	position: relative;
	top: -1px;
	padding: 45px 20px;
	background: $black;
	z-index: 2;

	.footnote {
		margin-bottom: 0;
		font-size: 15px;
		text-align: center;
		opacity: .5;
	}

	@media ($tablet) {
		border-top: 1px solid rgba(white, .05);

		.cols .col {
			flex-basis: 25%;
		}
	}
}