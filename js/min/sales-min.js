$(document).ready(function(){function o(){s=$("section").map(function(o,t){return $(t).offset().top}).toArray()}function t(){if(a())for(var o=0;o<s.length;o++)if(n(s[o])&&!n(s[o+1])){e(o);break}}function a(){return window.matchMedia("(min-width: 769px)").matches}function n(o){return window.scrollY+.75*d>o}function e(o){$("nav li a").removeClass("active").eq(o).addClass("active")}function i(){s.length||(o(),t())}var l=window.innerWidth,d=window.innerHeight,s=[];$(document).scroll(function(){i(),t()}),$(window).resize(function(){i(),l=window.innerWidth,d=window.innerHeight,o(),t()}),$("nav li a").click(function(){i();var o=$(this).parent().prevAll().length;return e(o),$("html, body").scrollTop(s[o]-$("header").outerHeight()),!1}),$("a[data-modal]").click(function(){var o=$(this).find(".whitepaper__title").text();$("div[data-modal=send-paper-modal]").find("[data-content=whitepaper-name]").text(o)}),$("[data-modal=send-paper-modal] form").submit(function(o){attemptFormSubmit.call(this,o,function(){$.closeModal(),createToast("<strong>Whitepaper sent!</strong>  You should see it shortly.")})}),$("form.request-a-demo").submit(function(o){attemptFormSubmit.call(this,o,function(){createToast("<strong>Demo Requested!</strong>  We'll get back to you shortly.")})}),$("a[data-modal]").click(function(){$("body").hasClass("has-modal-open")&&$.closeModal();var o=$(this).attr("data-modal"),t=$(".modal").filter("[data-modal="+o+"]");t.addClass("is-visible"),$("body").addClass("has-modal-open")}),$(".modal a.modal__close").click(function(){$.closeModal()}),$(".modal").click(function(){$.closeModal()}),$(".modal__window").click(function(o){o.stopPropagation()}),$(document).keyup(function(o){27===o.keyCode&&$("body").hasClass("has-modal-open")&&$.closeModal()}),$.closeModal=function(){$(".modal.is-visible").removeClass("is-visible"),$("body").removeClass("has-modal-open")}});